<!DOCTYPE html>
<!-- Copyright (c) 2026 D√°rio Moreira. All rights reserved. -->
<html class="no-js" lang="pt">

<head>
    <meta charset="UTF-8">
    <title>Calculadora de Faturas de Eletricidade - Tarifas BTN, BT e T em Portugal</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script>document.documentElement.className = document.documentElement.className.replace('no-js', 'js');</script>
    <link rel="icon" type="image/svg+xml" href="img/favicon.svg">
    <meta name="description" content="Calculadora gratuita para faturas de eletricidade em Portugal.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <a href="#main" class="skip-link">Saltar para conte√∫do principal</a>

    <header class="header-card">
        <h1>Calculadora Fatura Eletricidade</h1>
        <button id="themeToggle" aria-label="Alternar entre modo claro e escuro" title="Alternar tema">üåô</button>
    </header>

    <main id="main" role="main" class="container">

        <div class="layout-wrapper">

            <div class="main-content">

                <form id="calculatorForm" class="input-card">

                    <!-- Leituras Anteriores -->
                    <fieldset>
                        <legend>Leituras Anteriores (kWh) <span class="help-icon"
                                title="Insira as leituras do contador do m√™s anterior">?</span></legend>
                        <div class="grid grid-3">
                            <div>
                                <label for="antVazio">Vazio (181)</label>
                                <input type="number" id="antVazio" min="0" required>
                            </div>
                            <div>
                                <label for="antPonta">Ponta (182)</label>
                                <input type="number" id="antPonta" min="0" required>
                            </div>
                            <div>
                                <label for="antCheias">Cheias (183)</label>
                                <input type="number" id="antCheias" min="0" required>
                            </div>
                        </div>
                    </fieldset>

                    <!-- Leituras Atuais -->
                    <fieldset>
                        <legend>Leituras Atuais (kWh) <span class="help-icon"
                                title="Insira as leituras atuais do contador">?</span></legend>
                        <div class="grid grid-3">
                            <div>
                                <label for="atualVazio">Vazio (181)</label>
                                <input type="number" id="atualVazio" min="0" required>
                            </div>
                            <div>
                                <label for="atualPonta">Ponta (182)</label>
                                <input type="number" id="atualPonta" min="0" required>
                            </div>
                            <div>
                                <label for="atualCheias">Cheias (183)</label>
                                <input type="number" id="atualCheias" min="0" required>
                            </div>
                        </div>
                    </fieldset>

                    <fieldset>
                        <legend>Tipo de Tarifa e Pre√ßos Energia (‚Ç¨ / kWh) <span class="help-icon"
                                title="Selecione o tipo de tarifa e insira os pre√ßos por kWh">?</span></legend>
                        <div class="grid grid-2">
                            <div>
                                <label for="tarifaType">Tipo de Tarifa</label>
                                <select id="tarifaType" onchange="updatePrices()" aria-controls="precoContainer">
                                    <option value="BTN" selected>BTN - Tarifa Normal</option>
                                    <option value="BT">BT - Tarifa Bi-hor√°ria</option>
                                    <option value="T">T - Tarifa Tri-hor√°ria</option>
                                </select>
                            </div>
                            <div id="precoContainer">
                                <div id="precoBTN" style="display:none;">
                                    <label for="preco_BTN_unico">Energia (‚Ç¨/kWh) <span class="help-icon"
                                            title="Pre√ßo √∫nico da energia el√©trica">?</span></label>
                                    <input type="number" step="0.0001" id="preco_BTN_unico" min="0">
                                </div>
                                <div id="precoBT" style="display:none;">
                                    <div class="grid grid-2">
                                        <div>
                                            <label for="preco_BT_ponta">Ponta (182) <span class="help-icon"
                                                    title="Pre√ßo durante horas de ponta">?</span></label>
                                            <input type="number" step="0.0001" id="preco_BT_ponta" min="0">
                                        </div>
                                        <div>
                                            <label for="preco_BT_cheiasVazio">Cheias/Vazio (‚Ç¨/kWh) <span
                                                    class="help-icon"
                                                    title="Pre√ßo durante horas cheias e vazio">?</span></label>
                                            <input type="number" step="0.0001" id="preco_BT_cheiasVazio" min="0"
                                                required>
                                        </div>
                                    </div>
                                </div>
                                <div id="precoT">
                                    <div class="grid grid-3">
                                        <div>
                                            <label for="preco_T_ponta">Ponta (182) <span class="help-icon"
                                                    title="Pre√ßo durante horas de ponta">?</span></label>
                                            <input type="number" step="0.0001" id="preco_T_ponta" min="0">
                                        </div>
                                        <div>
                                            <label for="preco_T_cheias">Cheias (183) <span class="help-icon"
                                                    title="Pre√ßo durante horas cheias">?</span></label>
                                            <input type="number" step="0.0001" id="preco_T_cheias" min="0">
                                        </div>
                                        <div>
                                            <label for="preco_T_vazio">Vazio (181) <span class="help-icon"
                                                    title="Pre√ßo durante horas de vazio">?</span></label>
                                            <input type="number" step="0.0001" id="preco_T_vazio" min="0">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </fieldset>

                    <!-- Dados Gerais -->
                    <fieldset>
                        <legend>Dados Gerais <span class="help-icon"
                                title="Informa√ß√µes adicionais para o c√°lculo">?</span></legend>
                        <div class="grid grid-2">

                            <!-- Dias Faturados -->
                            <div>
                                <label for="diasSelect">Dias Faturados</label>
                                <select id="diasSelect" onchange="diasCustom()" aria-controls="diasCustomInput">
                                    <option value="30" selected>30 dias</option>
                                    <option value="31">31 dias</option>
                                    <option value="28">28 dias</option>
                                    <option value="custom">Personalizar</option>
                                </select>
                                <input type="number" id="diasCustomInput" style="display:none; margin-top:6px;"
                                    placeholder="Insira n√∫mero de dias"
                                    aria-label="N√∫mero de dias faturados personalizados" min="1" max="31" required>
                            </div>

                            <!-- Pot√™ncia -->
                            <div>
                                <label for="potenciaKva">Pot√™ncia Contratada (kVA) <span class="help-icon"
                                        title="Pot√™ncia el√©trica contratada">?</span></label>
                                <select id="potenciaKva" required>
                                    <option value="3.45">3.45 kVA</option>
                                    <option value="4.6">4.6 kVA</option>
                                    <option value="5.75">5.75 kVA</option>
                                    <option value="6.9">6.9 kVA</option>
                                    <option value="10.35">10.35 kVA</option>
                                    <option value="13.8">13.8 kVA</option>
                                    <option value="17.25">17.25 kVA</option>
                                    <option value="20.7">20.7 kVA</option>
                                    <option value="24.15">24.15 kVA</option>
                                    <option value="27.6">27.6 kVA</option>
                                    <option value="31.05">31.05 kVA</option>
                                    <option value="34.5">34.5 kVA</option>
                                    <option value="37.95">37.95 kVA</option>
                                    <option value="41.4">41.4 kVA</option>
                                    <option value="44.85">44.85 kVA</option>
                                    <option value="48.3">48.3 kVA</option>
                                    <option value="51.75">51.75 kVA</option>
                                    <option value="55.2">55.2 kVA</option>
                                    <option value="58.65">58.65 kVA</option>
                                    <option value="62.1">62.1 kVA</option>
                                    <option value="65.55">65.55 kVA</option>
                                    <option value="69">69 kVA</option>
                                </select>
                            </div>

                            <!-- Pre√ßo Pot√™ncia -->
                            <div>
                                <label for="precoPotenciaDia">Pre√ßo Pot√™ncia por Dia (‚Ç¨) <span class="help-icon"
                                        title="Custo di√°rio da pot√™ncia contratada">?</span></label>
                                <input type="number" step="0.0001" id="precoPotenciaDia" min="0" required>
                            </div>

                            <!-- IEC -->
                            <div>
                                <label for="iec">IEC (‚Ç¨/kWh) <span class="help-icon"
                                        title="Imposto Especial de Consumo">?</span></label>
                                <input type="number" step="0.0001" id="iec" value="0.001" min="0" required>
                            </div>

                            <!-- Taxa DGEG -->
                            <div>
                                <label for="dgeg">Taxa DGEG (‚Ç¨) <span class="help-icon"
                                        title="Taxa da Dire√ß√£o-Geral de Energia e Geologia">?</span></label>
                                <input type="number" step="0.01" id="dgeg" value="0.07" min="0" required>
                            </div>

                            <!-- Taxa Audiovisual -->
                            <div>
                                <label for="taxaAudiovisual">Taxa Audiovisual (‚Ç¨) <span class="help-icon"
                                        title="Taxa de contribui√ß√£o audiovisual">?</span></label>
                                <input type="number" step="0.01" id="taxaAudiovisual" value="3.02" min="0" required>
                            </div>

                        </div>
                    </fieldset>

                    <button type="submit"
                        aria-label="Calcular o custo total da fatura de eletricidade">Calcular</button>

                </form>

                <!-- Ad between input and result -->
                <div class="ad-card ad-horizontal">
                    <p>An√∫ncio: Economize energia com aparelhos eficientes! <a href="#" target="_blank">Saiba mais</a>
                    </p>
                </div>

                <div class="result-card" id="resultCard">
                    <div class="resultado" id="resultado" aria-live="polite" role="status"></div>
                    <div style="display: flex; gap: 20px; justify-content: center; flex-wrap: wrap;">
                        <canvas id="chart" style="display:none; max-width: 400px; height: 200px;"
                            aria-label="Gr√°fico de pizza mostrando a distribui√ß√£o de custos da fatura de eletricidade"></canvas>
                        <canvas id="consumptionChart" style="display:none; max-width: 400px; height: 200px;"
                            aria-label="Gr√°fico de pizza mostrando a distribui√ß√£o de consumo por per√≠odo"></canvas>
                    </div>
                </div>

            </div>

            <!-- Sidebar Ad -->
            <aside class="sidebar-ad">
                <div class="ad-card ad-vertical">
                    <p>An√∫ncio Vertical</p>
                    <p>Conte√∫do patrocinado aqui</p>
                    <a href="#" target="_blank">Visitar</a>
                </div>
            </aside>

        </div>

    </main>

    <footer class="footer-card">
        <p>&copy; 2026 Calculadora de Faturas de Eletricidade.</p>
        <div class="footer-ads">
            <a href="#" target="_blank">Parceiro 1</a> | <a href="#" target="_blank">Parceiro 2</a>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/script.js"></script>

</body>

</html>